!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("universal-cookie"),require("react")):"function"==typeof define&&define.amd?define(["exports","universal-cookie","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactCookie={},e.UniversalCookie,e.React)}(this,(function(e,t,o){"use strict";function r(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var n=r(o);const s=n.createContext(new t),{Provider:i,Consumer:c}=s;class a extends n.Component{constructor(e){super(e),e.cookies?this.cookies=e.cookies:this.cookies=new t(void 0,e.defaultSetOptions)}render(){return n.createElement(i,{value:this.cookies},this.props.children)}}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var u,p,l,d,y={exports:{}},m={};function b(){return p||(p=1,y.exports=function(){if(u)return m;u=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,o=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,n=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,a=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,l=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,b=e?Symbol.for("react.lazy"):60116,h=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,C=e?Symbol.for("react.scope"):60119;function O(e){if("object"==typeof e&&null!==e){var u=e.$$typeof;switch(u){case t:switch(e=e.type){case a:case f:case r:case s:case n:case l:return e;default:switch(e=e&&e.$$typeof){case c:case p:case b:case y:case i:return e;default:return u}}case o:return u}}}function S(e){return O(e)===f}return m.AsyncMode=a,m.ConcurrentMode=f,m.ContextConsumer=c,m.ContextProvider=i,m.Element=t,m.ForwardRef=p,m.Fragment=r,m.Lazy=b,m.Memo=y,m.Portal=o,m.Profiler=s,m.StrictMode=n,m.Suspense=l,m.isAsyncMode=function(e){return S(e)||O(e)===a},m.isConcurrentMode=S,m.isContextConsumer=function(e){return O(e)===c},m.isContextProvider=function(e){return O(e)===i},m.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},m.isForwardRef=function(e){return O(e)===p},m.isFragment=function(e){return O(e)===r},m.isLazy=function(e){return O(e)===b},m.isMemo=function(e){return O(e)===y},m.isPortal=function(e){return O(e)===o},m.isProfiler=function(e){return O(e)===s},m.isStrictMode=function(e){return O(e)===n},m.isSuspense=function(e){return O(e)===l},m.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===f||e===s||e===n||e===l||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===y||e.$$typeof===i||e.$$typeof===c||e.$$typeof===p||e.$$typeof===g||e.$$typeof===v||e.$$typeof===C||e.$$typeof===h)},m.typeOf=O,m}()),y.exports}var h=function(){if(d)return l;d=1;var e=b(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},n={};function s(o){return e.isMemo(o)?r:n[o.$$typeof]||t}n[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n[e.Memo]=r;var i=Object.defineProperty,c=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,p=Object.prototype;return l=function e(t,r,n){if("string"!=typeof r){if(p){var l=u(r);l&&l!==p&&e(t,l,n)}var d=c(r);a&&(d=d.concat(a(r)));for(var y=s(t),m=s(r),b=0;b<d.length;++b){var h=d[b];if(!(o[h]||n&&n[h]||m&&m[h]||y&&y[h])){var g=f(r,h);try{i(t,h,g)}catch(e){}}}}return t}}(),g=f(h);e.Cookies=t,e.CookiesProvider=a,e.useCookies=function(e,t){const r=o.useContext(s);if(!r)throw new Error("Missing <CookiesProvider>");const n=Object.assign(Object.assign({},{doNotUpdate:!0}),t),[i,c]=o.useState((()=>r.getAll(n)));"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement&&o.useLayoutEffect((()=>{function t(){const t=r.getAll(n);(function(e,t,o){if(!e)return!0;for(let r of e)if(t[r]!==o[r])return!0;return!1})(e||null,t,i)&&c(t)}return r.addChangeListener(t),()=>{r.removeChangeListener(t)}}),[r,i]);const a=o.useMemo((()=>r.set.bind(r)),[r]),f=o.useMemo((()=>r.remove.bind(r)),[r]),u=o.useMemo((()=>r.update.bind(r)),[r]);return[i,a,f,u]},e.withCookies=function(e){const t=e.displayName||e.name;class o extends n.Component{constructor(){super(...arguments),this.onChange=()=>{this.forceUpdate()}}listen(){this.props.cookies.addChangeListener(this.onChange)}unlisten(e){(e||this.props.cookies).removeChangeListener(this.onChange)}componentDidMount(){this.listen()}componentDidUpdate(e){e.cookies!==this.props.cookies&&(this.unlisten(e.cookies),this.listen())}componentWillUnmount(){this.unlisten()}render(){const t=this.props,{forwardedRef:o,cookies:r}=t,s=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]])}return o}(t,["forwardedRef","cookies"]),i=r.getAll({doNotUpdate:!0});return n.createElement(e,Object.assign({},s,{ref:o,cookies:r,allCookies:i}))}}o.displayName=`withCookies(${t})`,o.WrappedComponent=e;const r=n.forwardRef(((e,t)=>n.createElement(c,null,(r=>n.createElement(o,Object.assign({cookies:r},e,{forwardedRef:t}))))));return r.displayName=o.displayName,r.WrappedComponent=o.WrappedComponent,g(r,e)}}));
